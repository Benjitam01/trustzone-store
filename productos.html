<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TrustZone Store</title>
    
    <!-- Favicon -->
    <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="192x192" href="android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="android-chrome-512x512.png">
    
    <!-- Estilos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="css/shared-styles.css">
    <link rel="stylesheet" type="text/css" href="css/productos-styles.css">
    
    <!-- Scripts -->
    <script src="js/shared.js"></script>
</head>
<body>
    <!-- Navbar -->
    <header>
        <div class="navbar">
            <a href="index.html" class="logo">
                <img src="images/Logotipo%20Tecnolog%C3%ADa%20Azul%20(2).png" alt="Logo de TrustZone">
                TrustZone Store
            </a>
            <nav>
                <ul class="hidden" id="nav-menu">
                    <li><a href="index.html#home">Inicio</a></li>
                    <li><a href="index.html#about">Sobre Nosotros</a></li>
                    <li><a href="productos.html">Productos</a></li>
                    <li><a href="index.html#contact">Contacto</a></li>
                    <li><a href="Terminos-y-condiciones.html">Términos y Condiciones</a></li>
                </ul>
            </nav>
            <div class="menu-icon" onclick="toggleMenu()" aria-expanded="false"><i class="fas fa-bars"></i></div>
        </div>
    </header>

    <main>
        <div class="search-bar">
            <input type="text" id="search" placeholder="Buscar productos...">
            <select id="filter-category">
                <option value="">Todas las Categorías</option>
                <option value="productividad">Productividad</option>
                <option value="diseño">Diseño</option>
                <option value="redes">Redes Sociales</option>
                <option value="seguridad">Seguridad</option>
                <option value="streaming">Streaming</option>
                <option value="vpn">VPN</option>
                <option value="gaming">Gaming</option>
                <option value="oferta">Ofertas</option>
            </select>
            <select id="filter-price">
                <option value="">Todos los Precios</option>
                <option value="low">Hasta $5.000</option>
                <option value="high">Más de $5.000</option>
            </select>
            <select id="filter-best-sellers">
                <option value="">Ordenar por</option>
                <option value="best">Más Vendidos</option>
            </select>
        </div>

        <div class="product-grid" id="product-grid">
            <!-- Productos con MercadoPago primero -->
            <div class="product-card" data-category="diseño" data-price="2990" data-best-seller="true" data-description="Acceso garantizado a Canva Pro por un año, ¡y la posibilidad de mantenerlo para siempre! Nota: El acceso de por vida está sujeto a disponibilidad y demanda.">
                <div class="product-image" style="background-image: url('images/canvapro.jpg');"></div>
                <div class="product-details">
                    <h3 class="product-title">Canva Pro 1 año/para siempre</h3>
                    <p class="product-price">$5.990 CLP</p>
                    <div class="payment-button">
                        <script src="https://www.mercadopago.cl/integrations/v1/web-payment-checkout.js"
                            data-preference-id="500424967-fbea6445-7810-400c-ac1a-a63858afc276" 
                            data-source="button">
                        </script>
                    </div>
                </div>
            </div>

            <div class="product-card" data-category="seguridad" data-price="5500" data-best-seller="true" data-description="Protección contra malware y virus durante un año con McAfee.">
                <div class="product-image" style="background-image: url('images/Packshot_AntiVirusPlus.webp');"></div>
                <div class="product-details">
                    <h3 class="product-title">McAfee AntiVirus (2024) - 1 Año</h3>
                    <p class="product-price">$5.500 CLP</p>
                    <div class="payment-button">
                        <script src="https://www.mercadopago.cl/integrations/v1/web-payment-checkout.js"
                            data-preference-id="500424967-8782c48b-8008-461e-aa3f-6abffec72cc2" 
                            data-source="button">
                        </script>
                    </div>
                </div>
            </div>

            <div class="product-card" data-category="gaming" data-price="4990" data-best-seller="false" data-description="Control de retroceso del mouse. No es baneable, ya que no interfiere con los archivos del juego. Ideal para juegos de disparos.">
                <div class="product-image" style="background-image: url('images/Antirecoil.jpg');"></div>
                <div class="product-details">
                    <h3 class="product-title">Anti Recoil para Mouse</h3>
                    <p class="product-price">$4.990 CLP</p>
                    <div class="payment-button">
                        <script src="https://www.mercadopago.cl/integrations/v1/web-payment-checkout.js"
                            data-preference-id="500424967-ef5216b4-bba2-49f5-b584-0b53ac3b130e" 
                            data-source="button">
                        </script>
                    </div>
                </div>
            </div>

            <div class="product-card" data-category="gaming" data-price="1990" data-best-seller="false" data-description="Esta macro alza mira en juegos como Free Fire en PC, mejorando la precisión en el juego.">
                <div class="product-image" style="background-image: url('images/macromouse.jpg');"></div>
                <div class="product-details">
                    <h3 class="product-title">Macro para Mouse</h3>
                    <p class="product-price">$1.990 CLP</p>
                    <div class="payment-button">
                        <script src="https://www.mercadopago.cl/integrations/v1/web-payment-checkout.js"
                            data-preference-id="500424967-a08fc9ab-3e30-4097-8779-1f30dea96258" 
                            data-source="button">
                        </script>
                    </div>
                </div>
            </div>

            <!-- Agregar después de los productos con MercadoPago y antes de ChatGPT -->

            <div class="product-card" data-category="productividad" data-price="5500" data-best-seller="false" data-description="Suite completa de Office 365 por un año, incluye Word, Excel, y más.">
                <div class="product-image" style="background-image: url('images/microsftOffice.png');"></div>
                <div class="product-details">
                    <h3 class="product-title">Microsoft Office 365 Personal por 1 año</h3>
                    <p class="product-price">$5.500 CLP</p>
                    <a href="https://wa.me/56982195919?text=Hola,%20estoy%20interesado%20en%20Office%20365%20Personal%201%20año" class="buy-button">Comprar</a>
                </div>
            </div>

            <div class="product-card" data-category="seguridad,vpn" data-price="3990" data-best-seller="false" data-description="Express VPN para 5 dispositivos durante 1 mes, puedes usarlo para cambiar tu ubicación y acceder a contenido de otros países en Netflix u otras plataformas.">
                <div class="product-image" style="background-image: url('images/expressvpn.jpg');"></div>
                <div class="product-details">
                    <h3 class="product-title">Express VPN 1 mes</h3>
                    <p class="product-price">$3.990 CLP</p>
                    <a href="https://wa.me/56982195919?text=Hola,%20estoy%20interesado%20en%20Express%20VPN%201%20mes" class="buy-button">Comprar</a>
                </div>
            </div>

            <!-- Productos con enlace a WhatsApp después -->
            <div class="product-card" data-category="productividad" data-price="4990" data-best-seller="true" data-description="Accede a ChatGPT durante un mes con una cuenta compartida. ¡Oferta limitada!">
                <div class="product-image" style="background-image: url('images/chatgpt.jpg');"></div>
                <div class="product-details">
                    <h3 class="product-title">ChatGPT 1 mes (cuenta compartida)</h3>
                    <p class="product-price">$4.990 CLP</p>
                    <a href="https://wa.me/56982195919" class="buy-button">Comprar</a>
                </div>
            </div>

            <div class="product-card" data-category="streaming" data-price="3990" data-best-seller="false" data-description="Disfruta de Amazon Prime Video y Amazon Music por un mes completo. Acceso a películas, series, música y más.">
                <div class="product-image" style="background-image: url('images/prime video.png');"></div>
                <div class="product-details">
                    <h3 class="product-title">Amazon Prime Video + Amazon Music 1 mes</h3>
                    <p class="product-price">$3.990 CLP</p>
                    <a href="https://wa.me/56982195919?text=Hola,%20estoy%20interesado%20en%20Amazon%20Prime%20Video%20y%20Amazon%20Music" class="buy-button">Comprar</a>
                </div>
            </div>

            <div class="product-card" data-category="redes" data-price="9990" data-best-seller="true" data-description="Incrementa tu popularidad en TikTok con 1.000 seguidores.">
                <div class="product-image" style="background-image: url('images/seguidores-tiktok.webp');"></div>
                <div class="product-details">
                    <h3 class="product-title">Seguidores de TikTok (1.000 seguidores)</h3>
                    <p class="product-price">$9.990 CLP</p>
                    <a href="https://wa.me/56982195919?text=Hola,%20estoy%20interesado%20en%20los%20Seguidores%20de%20TikTok" class="buy-button">Comprar</a>
                </div>
            </div>

            <div class="product-card" data-category="oferta" data-price="7500" data-best-seller="false" data-description="Obtén McAfee AntiVirus (2024) y Canva Pro (1 año) en un solo paquete.">
                <div class="product-image" style="background-image: url('images/Promo-canva+mcafee.png');"></div>
                <div class="product-details">
                    <h3 class="product-title">Oferta McAfee y Canva</h3>
                    <p class="product-price">$7.500 CLP</p>
                    <a href="https://wa.me/56982195919?text=Hola,%20estoy%20interesado%20en%20la%20Oferta%20McAfee%20y%20Canva" class="buy-button">Comprar</a>
                </div>
            </div>

            <div class="product-card" data-category="streaming" data-price="3990" data-best-seller="false" data-description="Disfruta de YouTube sin anuncios y accede a YouTube Music con este plan de 1 mes.">
                <div class="product-image" style="background-image: url('images/youtubepremium.jpg');"></div>
                <div class="product-details">
                    <h3 class="product-title">YouTube Premium + YouTube Music 1 mes</h3>
                    <p class="product-price">$3.990 CLP</p>
                    <a href="https://wa.me/56982195919?text=Hola,%20estoy%20interesado%20en%20YouTube%20Premium%20y%20YouTube%20Music%20por%201%20mes" class="buy-button">Comprar</a>
                </div>
            </div>

            <div class="product-card" data-category="redes" data-price="9990" data-best-seller="false" data-description="Obtén 1000 seguidores para tu canal de Twitch. Entrega rápida en 24 a 48 horas.">
                <div class="product-image" style="background-image: url('images/seguidorestwitch.jpg');"></div>
                <div class="product-details">
                    <h3 class="product-title">1000 Seguidores de Twitch</h3>
                    <p class="product-price">$9.990 CLP</p>
                    <a href="https://wa.me/56982195919?text=Hola,%20estoy%20interesado%20en%201000%20Seguidores%20de%20Twitch" class="buy-button">Comprar</a>
                </div>
            </div>

        </div>

        <!-- Modal (versión original) -->
        <div id="product-modal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2 id="modal-title"></h2>
                <p id="modal-description"></p>
            </div>
        </div>
    </main>

    <footer id="contact">
        <p>Gracias por confiar en nosotros para todas tus necesidades digitales.</p>
        <p>&copy; 2024 <strong>TrustZone Store</strong>. Todos los derechos reservados.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const searchInput = document.getElementById('search');
            const categoryFilter = document.getElementById('filter-category');
            const priceFilter = document.getElementById('filter-price');
            const bestSellerFilter = document.getElementById('filter-best-sellers');
            const productGrid = document.getElementById('product-grid');
            const products = Array.from(document.querySelectorAll('.product-card'));
            const modal = document.getElementById('product-modal');
            const modalTitle = document.getElementById('modal-title');
            const modalDescription = document.getElementById('modal-description');
            const closeModal = document.querySelector('.close');

            function filterProducts() {
                const searchText = searchInput.value.toLowerCase();
                const category = categoryFilter.value.toLowerCase();
                const price = priceFilter.value;
                const bestSeller = bestSellerFilter.value;

                products.forEach(product => {
                    const productCategories = product.dataset.category.toLowerCase().split(',');
                    const productPrice = parseInt(product.dataset.price);
                    
                    let matchesSearch = product.querySelector('.product-title').textContent.toLowerCase().includes(searchText);
                    let matchesCategory = category === '' || productCategories.includes(category);
                    let matchesPrice = true;
                    
                    if (price === 'low') {
                        matchesPrice = productPrice <= 5000;
                    } else if (price === 'high') {
                        matchesPrice = productPrice > 5000;
                    }
                    
                    let matchesBestSeller = bestSeller === '' || 
                        (bestSeller === 'best' && product.dataset.bestSeller === 'true');

                    if (matchesSearch && matchesCategory && matchesPrice && matchesBestSeller) {
                        product.style.display = '';
                    } else {
                        product.style.display = 'none';
                    }
                });
            }

            // Event listeners
            searchInput.addEventListener('input', filterProducts);
            categoryFilter.addEventListener('change', filterProducts);
            priceFilter.addEventListener('change', filterProducts);
            bestSellerFilter.addEventListener('change', filterProducts);

            // Modal functionality
            productGrid.addEventListener('click', function (e) {
                const card = e.target.closest('.product-card');
                if (card && 
                    !e.target.classList.contains('buy-button') && 
                    !e.target.closest('.buy-button') && 
                    !e.target.closest('.payment-button') && 
                    !e.target.closest('script')) {
                    modalTitle.textContent = card.querySelector('.product-title').textContent;
                    modalDescription.textContent = card.dataset.description;
                    modal.style.display = 'block';
                }
            });

            closeModal.addEventListener('click', function () {
                modal.style.display = 'none';
            });

            window.addEventListener('click', function (e) {
                if (e.target === modal) {
                    modal.style.display = 'none';
                }
            });
        });
    </script>
</body>
</html>
